<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ËÅäÂ§©ÂÆ§ - WWW Technologies HW5</title>
    <link rel="stylesheet" href="css/chat.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <!-- Êñ∞ÁâàÂÖ©Ê¨ÑËÅäÂ§©ÁâàÈù¢ÔºöÂ∑¶ÂÅ¥ÁÇ∫ËÅäÂ§©Ê∏ÖÂñÆ (ChatSidebar)ÔºåÂè≥ÂÅ¥ÁÇ∫ÁõÆÂâçÂ∞çË©± (ChatWindow) -->
    <div class="chat-app-shell">
        <div class="chat-container">
            <!-- ChatSidebarÔºöÂ∑¶ÂÅ¥ËÅäÂ§©Ê∏ÖÂñÆËàá‰ΩøÁî®ËÄÖË≥áË®äÔºàËàä part1 / part3 Âêà‰ΩµÔºâ -->
            <aside class="chat-sidebar">
                <!-- ‰ΩøÁî®ËÄÖË≥áË®äÂçÄÔºàÁî±ÂéüÊú¨Âè≥ÂÅ¥ user-profile ÁßªÂÖ•Ôºâ -->
                <div class="sidebar-user">
                    <div class="sidebar-user-avatar">
                        <img src="images/default-avatar.svg" alt="User Avatar" id="userAvatar">
                    </div>
                    <div class="sidebar-user-info">
                        <div class="sidebar-user-name" id="userName">User</div>
                        <div class="sidebar-user-status">Info account</div>
                    </div>
                    <button class="sidebar-icon-btn" id="settingsBtn" type="button" aria-label="Settings">
                        ‚öôÔ∏è
                    </button>
                </div>

                <!-- ÊàøÈñì / ËÅäÂ§©È°ûÂûãÂàáÊèõ PillsÔºàÁî±Âéü Group / One-to-One ÈáçÊñ∞ÊéíÁâàÔºâ -->
                <div class="chat-tabs">
                    <button class="room-btn active" id="groupChatBtn">
                        Groups
                        <span class="group-notification" id="groupNotification"></span>
                    </button>
                    <button class="room-btn" id="privateChatBtn">Personal</button>
                </div>

                <!-- Á∑ö‰∏äË≥áË®äËàáÂàÜÈöîÊ®ôÈ°å -->
                <div class="sidebar-meta">
                    <div class="online-info">
                        <span>Online</span>
                        <span id="onlineCount" class="online-count">0</span>
                    </div>
                    <div class="sidebar-section-label">Messages</div>
                </div>

                <!-- ËÅäÂ§©Ê∏ÖÂñÆÔºöÊ≤øÁî®Âéü usersListÔºåÊîπÊàêÈ°û‰ºº WhatsApp ËÅØÁµ°‰∫∫Âàó -->
                <div class="chat-list" id="usersList">
                    <!-- ÂãïÊÖãÁîüÊàê‰ΩøÁî®ËÄÖÂàóË°® -->
                </div>

                <!-- ÈÄÄÂá∫ËÅäÂ§©ÂÆ§ÊåâÈàïÔºöÁî±ÂéüÊú¨Âè≥ÂÅ¥ Quit ÊîπÁÇ∫ÂÅ¥ÈÇäÊ¨ÑÂ∫ïÈÉ®ÁöÑÂ∞èÊåâÈàï -->
                <button class="sidebar-quit-btn" id="quitBtn" type="button">
                    <span class="quit-icon">üö™</span>
                    <span class="quit-text">Leave</span>
                </button>
            </aside>

            <!-- ChatWindowÔºöÂè≥ÂÅ¥ÁõÆÂâçÂ∞çË©±ËàáË®äÊÅØÂçÄÔºàËàä part2Ôºâ -->
            <section class="chat-window">
                <!-- ËÅäÂ§©Ê®ôÈ°åÂàóÔºàheader ‰∏≠Âä†ÂÖ•ÈÄöË©±Áõ∏ÈóúÂúñÁ§∫ÊåâÈàïÔºâ -->
                <header class="chat-header">
                    <div class="chat-header-main">
                        <div class="chat-header-left">
                            <div class="chat-avatar-placeholder"></div>
                            <div class="chat-title-block">
                                <h2 id="chatTitle">Group</h2>
                                <p class="chat-subtitle" id="chatSubtitle">Áæ§ÁµÑËÅäÂ§©ÂÆ§</p>
                            </div>
                        </div>
                        <div class="chat-header-meta">
                            <div class="chat-participants" id="chatParticipants">ÊàêÂì°Ôºö--</div>
                        </div>
                    </div>
                </header>

                <!-- Ë®äÊÅØÈ°ØÁ§∫ÂçÄÂüü + Ë¶ñË®äÁï´Èù¢È†êË¶Ω -->
                <div class="chat-body">
                    <!-- Ë®äÊÅØÂàóË°® -->
                    <div class="messages-area" id="messagesArea">
                        <!-- ÂãïÊÖãÁîüÊàêË®äÊÅØ -->
                    </div>

                    <!-- Ëº∏ÂÖ•‰∏≠ÊèêÁ§∫ -->
                    <div class="typing-indicator" id="typingIndicator"></div>
                </div>

                <!-- Ë®äÊÅØËº∏ÂÖ•ÂàóÔºöÊîπÁÇ∫Ë≤ºËøë WhatsApp È¢®Ê†ºÁöÑÂúìËßíËº∏ÂÖ•Ê°ÜËàáÈÄÅÂá∫ÊåâÈàï -->
                <div class="input-area">
                    <div class="input-inner">
                        <button class="input-icon-btn" id="emojiBtn" type="button">üòä</button>
                        <button class="input-icon-btn" id="imageBtn" type="button" aria-label="Upload image">
                            <svg class="icon-image" viewBox="0 0 24 24" aria-hidden="true">
                                <rect x="3.5" y="3.5" width="17" height="17" rx="3.5" ry="3.5"></rect>
                                <circle cx="8.5" cy="8.5" r="2"></circle>
                                <path d="M5 16.5l4-4 3 3 4.5-5.5 3.5 6.5" class="icon-image-zigzag"></path>
                            </svg>
                        </button>
                        <input type="file" id="imageInput" accept="image/*" style="display: none;">
                        <input 
                            type="text" 
                            id="messageInput" 
                            placeholder="Type a message..." 
                            maxlength="500"
                        >
                    </div>
                    <button class="send-btn" id="sendBtn" type="button">Send</button>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Emoji ÈÅ∏ÊìáÂô® -->
    <div class="emoji-picker" id="emojiPicker">
        <div class="emoji-grid">
            <!-- ÂãïÊÖãÁîüÊàê emoji -->
        </div>
    </div>

    <!-- ÈÄöÁü•ÂæΩÁ´†ÂÖÉÁ¥†Ôºà‰ªç‰øùÁïôÔºå‰æõÂéüÊú¨ÈÄöÁü•ÈÇèËºØ‰ΩøÁî®Ôºâ -->
    <div class="notification-badges" id="notificationBadges"></div>
    
    <script src="js/chat.js"></script>
</body>
</html> 
